# 文本处理

## 前置知识

### 正则表达式

| 元字符  | 说明                                                         |
| :------ | ------------------------------------------------------------ |
| `.`     | 匹配任意单个字符                                             |
| `[ ]`   | 匹配方括号内的任意字符，方括号内可用 `-` ：`[0-9a-zA-Z]`     |
| `[^ ]`  | 匹配除了方括号内的任意字符                                   |
| `*`     | 匹配 >= 0 个重复的在 `*` 之前的字符                          |
| `+`     | 匹配 >= 1 个重复的在 `*` 之前的字符                          |
| `?`     | 匹配 0 或 1 个在 `?` 之前的字符                              |
| `{n}`   | 匹配 n 个大括号之前的字符                                    |
| `{n,m}` | 匹配 x (n <= x <= m) 个大括号之前的字符，可省去上界或下界：`{n,}` 或 `{,m}` |
| `(xyz)` | 匹配和 `xyz` 完全相等的字符串                                |
| `|`     | 匹配 `|` 之前或之后的字符                                    |
| `\`     | 转义保留的字符，如 `[](){}.*+?^$\|`                          |
| `^`     | 匹配行开头的空串                                             |
| `$`     | 匹配行末尾的空串                                             |
| `\b`    | 匹配单词边界的空串                                           |
| `\B`    | 匹配非单词边界的空串                                         |
| `\w`    | 匹配单个字母、数字、下划线                                   |
| `\W`    | 匹配单个非字母、非数字、非下划线的字符                       |
| `\s`    | 匹配单个空白字符                                             |
| `\S`    | 匹配单个非空白字符                                           |

## 常用命令

### grep

| 选项   | 说明                                                         |
| ------ | ------------------------------------------------------------ |
| `-i`   | 忽略大小写                                                   |
| `-v`   | 反过来，只打印不匹配的                                       |
| `-n`   | 打印匹配的行号                                               |
| `-w`   | 只能匹配单词，不能匹配单词的一部分                           |
| `-c`   | 结果是匹配的行数                                             |
| `-o`   | 只打印匹配的字符串，而不是整行                               |
|`-f`|指定模式串文件，每行为一个模式串|
|`-m`|只打印前 `m` 行匹配结果|
| `-A n` | 打印匹配的字符串所在行及后 `n` 行（after）                   |
| `-B n` | 打印匹配的字符串所在行及前 `n` 行（before）                  |
| `-C n` | 打印匹配的字符串所在行及前后各 `n` 行（context）             |
| `-G`   | BREs (Basic Regular Expressions)，默认模式，`?+{}()|` 需要转义使用 |
| `-E`   | EREs (Extended Regular Expressions)，扩展模式，相当于 egrep  |
| `-F`   | 相当于 fgrep (fixed grep)，只匹配固定的字符串，无正则语法    |

```shell
grep -n -- '--cur here--' test.txt /dev/null
# -- 用来分隔，避免将模式串解析成参数
# /dev/null 的加入可以让结果输出文件名
```

### sed



### awk



## 参考文档

- https://github.com/ziishaned/learn-regex/blob/master/translations/README-cn.md
- https://deerchao.cn/tutorials/regex/regex.htm
- https://www.gnu.org/software/grep/manual/grep.html

